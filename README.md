## Аннотация
Биржа обеспечивает функционирование рынка ценных бумаг для проведения регулярных торгов, которые необходимо фиксировать. 

С этой целью была разработана программа, позволяющая накапливать и анализировать данные торгов срочного рынка. Она эффективно справляется с большим объемом информации, что упрощает работу с ценными бумаги.

## Содержание
0. [Введение](#введение)  

1. [Техническое задание на разработку](#техническое-задание-на-разработку)

2. [Проект информационной системы](#проект-информационной-системы)  

    2.1. [Описание функций и функциональные спецификации](#описание-функций-и-функциональные-спецификации)  
 
    2.2. [Описание информационной структуры](#описание-информационной-структуры)  
    
    2.3. [Описание модульной структуры](#описание-модульной-структуры)  
    
3. [Документация информационной системы](#документация-информационной-системы)  

    3.1. [Краткое описание и назначение системы](#краткое-описание-и-назначение-системы)  
    
    3.2. [Руководство пользователя](#руководство-пользователя)  
    
    3.3. [Руководство администратора](#руководство-администратора)  
    
4. [Результаты испытания системы](#результаты-испытаний-системы)  

5. [Заключение](#заключение)

6. [Список использованных источников](#список-используемых-источников)


## Введение
Разработанная программа обеспечивает визуализацию данных о торгах ценными бумагами в виде таблиц, а также взаимодействие с данными, что включает в себя расчет статистических характеристик и однодневной процентной ставки, изменение исходных данных и формирование документов.

Программа интуитивно понятна и проста для освоения. Все правила работы с ней подробно описаны в руководстве пользователя. Использование данной программы значительно упрощает работу в сфере биржевых торгов.

## Техническое задание на разработку
**Объект, для которого выполняется разработка:** биржа, осуществляющая операции с ценными бумагами.

**Цель работы:** создание программных средств для накопления и анализа данных торгов активами срочного рынка.

**Требования к функциям, реализуемым в программах анализа данных:**

а) контроль и восстановление целостности баз данных системы;

б)  добавление в базу данных информации по одному или нескольким торговым дням, удаление и корректировка информации, верификация вновь поступивших данных, обеспечение целостности данных;

в) просмотр информации о торгах активами срочного рынка, фильтрация и упорядочивание информации при просмотре; 

г) расчет по каждому выпуску ценных бумаг G<sub>k</sub> в каждый торговый день t<sub>i</sub> основного контролируемого показателя - однодневной процентной ставки

x<sub>k</sub>(i) = ln{ F<sub>k</sub>(i) / 100)}/( T<sub>k</sub>) - t<sub>i</sub>),
где i - порядковый номер торгового дня;

д) для выбираемой пользователем даты t должны быть рассчитаны по предшествующим торгам на заданной календарной предыстории основные статистические характеристики (x<sub>kср</sub>, &sigma;<sub>k</sub><sup>2</sup>) для показателей x<sub>k</sub> для всех выпусков ценных бумаг, продававшихся в день t (если какая-то бумага продавалась не на всех торгах заданной предыстории, то расчет должен быть сделан по фактически проведенным торгам); 

е) по той же предыстории необходимо определить, менялись ли среднее значение и дисперсия показателей и, если да, то какова тенденция изменения в день t (растет, уменьшается);

ж) для выбранной даты t для ценной бумаги, участвовавшей на наибольшем числе торгов, оценить параметры смеси двух нормальных распределений;

з) обеспечить визуализацию данных торгов и расчетов, формирование документов.

## Проект информационной системы  
### Описание функций и функциональные спецификации
- **Отображение**

    Осуществляется через главное окно с возможностью переключения между таблицами.    

- **Упорядочивание**

    Осуществляется через главное окно при нажатии на заголовок соответствующего столбца таблицы. Столбец сортируется в лексико-графическом порядке.  

- **Фильтрация**

    Осуществляется через главное окно по введенным значениям полей: дата торгов, код бумаги, цена и доходность. После ввода нажатием на кнопку «Применить фильтр» отображается таблица с учетом примененных фильтров. Доступно использование различных комбинаций введенных значений, при этом целостность данных сохраняется. Для возврата к исходному состоянию необходимо нажать на кнопку «Сбросить фильтр».  

- **Удаление**

    Осуществляется через главное окно нажатием на кнопку «Удалить запись». Перед этим необходимо выбрать одну или несколько записей для удаления. Если запись не выбрана, появится сообщение об ошибке. Для завершения пользователю необходимо подтвердить удаление нажатием на кнопку «Ок» в диалоговом окне.

- **Добавление в таблицу Activ**

    Осуществляется в отдельном диалоговом окне после нажатия на кнопку «Добавить запись» на главном окне при условии, что эта таблица открыта в данный момент. Для завершения добавления пользователю необходимо выбрать дату торгов из календаря, код бумаги из выпадающего списка и ввести текущую цену и текущую доходность. Если ввод произведен корректно, после нажатия на кнопку «Ок» в таблице Activ появится новая запись.

- **Добавление в таблицу act_isp**

    Осуществляется в отдельном диалоговом окне после нажатия на кнопку «Добавить запись» на главном окне, при условии, что эта таблица выбрана в данный момент. Для завершения добавления пользователю необходимо ввести код бумаги и выбрать дату погашения из календаря. Если ввод произведен корректно, после нажатия на кнопку «Ок» в таблице act_isp появится новая запись.

- **Редактирование**

    Осуществляется в отдельном диалоговом окне после нажатия на кнопку «Редактировать запись» на главном окне. Перед этим необходимо выбрать одну запись для редактирования. Если запись не выбрана, появится сообщение об ошибке. Для завершения редактирования пользователю необходимо ввести новое значение для текущей цены и текущей доходности. Если ввод произведен корректно, после нажатия на кнопку «Ок» в соответствующую запись таблицы внесутся изменения.

- **Расчет ставки**

    Осуществляется после успешного редактирования или добавления. При последующем применении редактирования и добавления автоматически пересчитывается соответствующее значение ставки.

- **Анализ статических характеристик**

    Осуществляется в отдельном диалоговом окне после нажатия на кнопку «Анализ ставки» на главном окне. Пользователю предоставляется выбрать дату из календаря начала и конца предыстории. Если даты введены корректно, то при нажатии на кнопку «Рассчитать» в таблице отображаются рассчитанные среднее и дисперсия для каждого кода бумаги выбранного дня t, тенденция изменения среднего и дисперсии по сравнению с днем t-1, а также размах. Нажатием на кнопку «Очистить» данные из таблицы стираются, а при нажатии на кнопку «Сохранить» создается документ, в котором фиксируется текущее состояние таблицы.

- **Сохранение**

    Осуществляется через главное окно нажатием на кнопку «Сохранить». Созданный документ doc1.dox содержит таблицу данных с учетом примененной фильтров. Помимо самой таблицы в документе также указываются фильтры, по которым была применена фильтрация.

### Описание информационной структуры
Информационная структура образуется двумя таблицами Activ и Act_isp. Эти таблицы имеют связь «1 к многим» по полю regnum. 
 
Таблица Activ:
| Ключ | Имя столбца | Тип данных | Описание                           |
|------|-------------|------------|------------------------------------|
| 🔑    | torg_date   | TEXT       | Даты торгов ценными бумагами       |
| 🔑    | regnum      | TEXT       | Коды ценных бумаг                  |
|      | price       | REAL       | Значения текущей цены ценных бумаг |
|      | gain_end    | REAL       | Значения текущей доходности        |

Таблица Act_isp:

| Ключ | Имя столбца | Тип данных | Описание                    |
|------|-------------|------------|-----------------------------|
| 🔑    | regnum      | TEXT       | Коды ценных бумаг           |
|      | exec_date   | TEXT       | Даты погашения ценных бумаг |

### Описание модульной структуры
Приложение включает в себя 1 главное окно и 7 диалоговых окон:
- MainForm.ui – Главное окно для визуализация данных и взаимодействие с ними;

- DeleteDialog.ui – Диалоговое окно для подтверждения удаления;

- ErrorDialog.ui – Диалоговое окно для сообщения о том, что запись для редактирования не выбрана;

- EditDialog.ui – Диалоговое окно для редактирования записей;

- AddDialog1.ui – Диалоговое окно для добавления записей в таблицу Activ;

- AddDialog2.ui –  Диалоговое окно для добавления записей в таблицу Act_isp;

- AnalysisDialog.ui – Диалоговое окно для реализации расчета статических характеристик и занесения их в документ;

- Calendar.ui – Диалговое окно для выбора даты из календаря.

## Заключение
В результате выполнения цикла взаимосвязанных лабораторных работ был разработан проект «Управление биржевыми операциями с ценными бумагами», позволяющий накапливать и анализировать данные торгов активами срочного рынка. 

В программе реализовано выполнение следующих операций: удаление, редактирование, добавление и фильтрация данных; расчет по этим данных основного контролируемого показателя и статистических характеристик; определение тенденции изменения среднего и дисперсии; документирование результатов обработки данных.

## Список используемых источников
1.	Руководство по Qt Designer, URL: https://doc.qt.io/qt-6/qtdesigner-manual.html
2.	Документация Qt для Python, URL: https://doc.qt.io/qtforpython/
3.	Документация Python 3.11.0, URL: https://docs.python.org/3/
